<!DOCTYPE html>
<html>
    <head>
        <title>Lab 4</title>
        <!-- Data containing theJSON variable -->
        <script>
            var theJSON = {
                "data": [
                    {"pointId": 1, "lat": 30.61586, "lon": -96.35557},
                    {"pointId": 2, "lat": 30.61724, "lon": -96.3368},
                    {"pointId": 3, "lat": 30.60649, "lon": -96.35613},
                    {"pointId": 4, "lat": 30.60718, "lon": -96.33817},
                    {"pointId": 5, "lat": 30.61479, "lon": -96.34729}
                ]
            };
        </script>
        <!-- Custom JavaScript -->
        <script>
            function Run() {
                alert("Run function called!");

                var data = theJSON.data;

                var topLeftPoint = findTopLeft(data);
                var topRightPoint = findTopRight(data);
                var bottomLeftPoint = findBottomLeft(data);
                var bottomRightPoint = findBottomRight(data);

                var boundingBox = {
                    topLeft: topLeftPoint,
                    topRight: topRightPoint,
                    bottomLeft: bottomLeftPoint,
                    bottomRight: bottomRightPoint
                };

                console.log("Bounding box computed for ericmc33@tamu.edu: ");
                console.log(boundingBox);
            }

            function findTopLeft(data) {
                var maxLat = null;
                var minLon = null;
                data.forEach(element => {
                    if (maxLat == null || element.lat > maxLat) maxLat = element.lat;
                    if (minLon == null || element.lon < minLon) minLon = element.lon;
                });
                return { lat: maxLat, lon: minLon };
            }

            function findTopRight(data) {
                var maxLat = null;
                var maxLon = null;
                data.forEach(element => {
                    if (maxLat == null || element.lat > maxLat) maxLat = element.lat;
                    if (maxLon == null || element.lon > maxLon) maxLon = element.lon;
                });
                return { lat: maxLat, lon: maxLon };
            }

            function findBottomLeft(data) {
                var minLat = null;
                var minLon = null;
                data.forEach(element => {
                    if (minLat == null || element.lat < minLat) minLat = element.lat;
                    if (minLon == null || element.lon < minLon) minLon = element.lon;
                });
                return { lat: minLat, lon: minLon };
            }

            function findBottomRight(data) {
                var minLat = null;
                var maxLon = null;
                data.forEach(element => {
                    if (minLat == null || element.lat < minLat) minLat = element.lat;
                    if (maxLon == null || element.lon > maxLon) maxLon = element.lon;
                });
                return { lat: minLat, lon: maxLon };
            }
        </script>
    </head>

    <body>
        <!-- Button that calls Run() when clicked -->
        <input type='button' value='Click Me!' onclick='Run();'></input>
    </body>
</html>
